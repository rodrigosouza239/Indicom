{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/rodrigo/indicom/app/pages/Login/CompleteCadastro/CompleteCadastro.jsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useContext, useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { KeyboardAwareScrollView } from 'react-native-keyboard-aware-scroll-view';\nimport { Formik } from 'formik';\nimport * as yup from 'yup';\nimport ApplicationContext from \"../../../contexts/application\";\nimport Styles from \"./Styles\";\nimport * as Utils from \"./Utils\";\nimport Api from \"../../../services/Api\";\nimport Button from \"../../../components/Button\";\nimport Input from \"../../../components/Input\";\nimport Select from \"../../../components/Select\";\nimport UserIcon from \"../../../../assets/img/user-icon.png\";\n\nvar CompleteCadastro = function CompleteCadastro(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useContext = useContext(ApplicationContext),\n      newUser = _useContext.newUser,\n      setNewUser = _useContext.setNewUser,\n      setLoading = _useContext.setLoading;\n\n  var _useState = useState([{\n    label: 'Pessoa Física',\n    value: 'PF'\n  }, {\n    label: 'Pessoa Jurídica',\n    value: 'PJ'\n  }]),\n      _useState2 = _slicedToArray(_useState, 1),\n      tipoPessoa = _useState2[0];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      activitiesBranches = _useState4[0],\n      setActivitiesBranches = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      economicsActivites = _useState6[0],\n      setEconomicsActivities = _useState6[1];\n\n  var handleCadastro = function handleCadastro(data) {\n    return _regeneratorRuntime.async(function handleCadastro$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setNewUser(_objectSpread(_objectSpread(_objectSpread({}, newUser), data), {}, {\n              passwordCheck: undefined\n            }));\n            return _context.abrupt(\"return\", navigation.navigate('RamoAtividade'));\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  useEffect(function () {\n    var fetchApiData = function fetchApiData() {\n      var responseActivitiesBranches, responseEconomicsActivities;\n      return _regeneratorRuntime.async(function fetchApiData$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setLoading(true);\n              _context2.next = 3;\n              return _regeneratorRuntime.awrap(Api.get('v1/activities-branches'));\n\n            case 3:\n              responseActivitiesBranches = _context2.sent;\n\n              if (!(responseActivitiesBranches.status !== 200)) {\n                _context2.next = 8;\n                break;\n              }\n\n              Alert.alert('Atenção', 'Houve um erro no servidor, reinicie a aplicação');\n              _context2.next = 13;\n              break;\n\n            case 8:\n              setActivitiesBranches(responseActivitiesBranches.data.map(function (i) {\n                return {\n                  Name: i.name,\n                  Id: String(i.id)\n                };\n              }));\n              _context2.next = 11;\n              return _regeneratorRuntime.awrap(Api.get('v1/economics-activities'));\n\n            case 11:\n              responseEconomicsActivities = _context2.sent;\n\n              if (responseEconomicsActivities.status !== 200) {\n                Alert.alert('Atenção', 'Houve um erro no servidor, reinicie a aplicação');\n              } else {\n                setEconomicsActivities(responseEconomicsActivities.data.map(function (i) {\n                  return {\n                    label: i.name,\n                    value: String(i.id)\n                  };\n                }));\n                setLoading(false);\n              }\n\n            case 13:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    fetchApiData();\n  }, []);\n  return React.createElement(View, {\n    style: Styles.wrapper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }, React.createElement(ScrollView, {\n    style: {\n      width: '100%'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, React.createElement(KeyboardAwareScrollView, {\n    resetScrollToCoords: {\n      x: 0,\n      y: 0\n    },\n    scrollEnabled: false,\n    keyboardOpeningTime: 0,\n    contentContainerStyle: {\n      alignItems: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, React.createElement(Image, {\n    source: UserIcon,\n    style: Styles.iconImg,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }), React.createElement(Text, {\n    style: Styles.bemVindoText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }, \"Bem vindo \", newUser.name, \"!\"), React.createElement(Text, {\n    style: Styles.subTitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, \"Complete seu Cadastro\"), React.createElement(Formik, {\n    initialValues: {\n      tipoPessoa: 'PF',\n      ramoAtividade: '',\n      nomeEmpresa: '',\n      atividadeEconomica: '',\n      celular: '',\n      website: '',\n      facebook: ''\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }, function (_ref2) {\n    var handleChange = _ref2.handleChange,\n        setFieldValue = _ref2.setFieldValue,\n        handleBlur = _ref2.handleBlur,\n        handleSubmit = _ref2.handleSubmit,\n        values = _ref2.values,\n        errors = _ref2.errors,\n        isValid = _ref2.isValid;\n    return React.createElement(View, {\n      style: Styles.socialMediaContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 15\n      }\n    }, React.createElement(Text, {\n      style: Styles.labelFormText,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }\n    }, \"Sou:\"), React.createElement(Select, {\n      customStyle: {\n        marginBottom: 13\n      },\n      value: values.tipoPessoa,\n      placeholder: {},\n      onValueChange: handleChange('tipoPessoa'),\n      error: errors.tipoPessoa,\n      items: tipoPessoa,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }\n    }), React.createElement(Select, {\n      customStyle: {\n        marginBottom: 13,\n        display: values.tipoPessoa === 'PJ' ? 'none' : 'flex'\n      },\n      value: values.ramoAtividade,\n      placeholder: {\n        label: 'Profissão',\n        value: ''\n      },\n      onValueChange: handleChange('ramoAtividade'),\n      error: errors.ramoAtividade,\n      items: activitiesBranches,\n      isSearchable: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }\n    }), React.createElement(Input, {\n      onChangeText: handleChange('nomeEmpresa'),\n      onBlur: handleBlur('nomeEmpresa'),\n      placeholder: \"Nome da Empresa:\",\n      textContentType: \"name\",\n      customStyle: {\n        marginBottom: 13,\n        display: values.tipoPessoa === 'PF' ? 'none' : 'flex',\n        paddingLeft: 15\n      },\n      error: errors.nomeEmpresa,\n      value: values.nomeEmpresa,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }\n    }), React.createElement(Select, {\n      customStyle: {\n        marginBottom: 13,\n        display: values.tipoPessoa === 'PF' ? 'none' : 'none'\n      },\n      value: values.atividadeEconomica,\n      placeholder: {\n        label: 'Atividade Econômica',\n        value: ''\n      },\n      onValueChange: handleChange('atividadeEconomica'),\n      error: errors.atividadeEconomica,\n      items: economicsActivites,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }\n    }), React.createElement(Text, {\n      style: Styles.labelFormText,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }\n    }, \"Contatos:\"), React.createElement(Button, {\n      onPress: handleSubmit,\n      disabled: !isValid,\n      customStyles: {\n        backgroundColor: '#FFD500',\n        marginTop: 15\n      },\n      textColor: \"#000\",\n      label: \"Ir para o Ramo de Atividade\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 17\n      }\n    }));\n  }))));\n};\n\nexport default CompleteCadastro;","map":{"version":3,"sources":["/Users/rodrigo/indicom/app/pages/Login/CompleteCadastro/CompleteCadastro.jsx"],"names":["React","useContext","useState","useEffect","KeyboardAwareScrollView","Formik","yup","ApplicationContext","Styles","Utils","Api","Button","Input","Select","UserIcon","CompleteCadastro","navigation","newUser","setNewUser","setLoading","label","value","tipoPessoa","activitiesBranches","setActivitiesBranches","economicsActivites","setEconomicsActivities","handleCadastro","data","passwordCheck","undefined","navigate","fetchApiData","get","responseActivitiesBranches","status","Alert","alert","map","i","Name","name","Id","String","id","responseEconomicsActivities","wrapper","width","x","y","alignItems","iconImg","bemVindoText","subTitle","ramoAtividade","nomeEmpresa","atividadeEconomica","celular","website","facebook","handleChange","setFieldValue","handleBlur","handleSubmit","values","errors","isValid","socialMediaContainer","labelFormText","marginBottom","display","paddingLeft","backgroundColor","marginTop"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\nimport { View, Text, Image, ScrollView, Alert } from 'react-native';\nimport { KeyboardAwareScrollView } from 'react-native-keyboard-aware-scroll-view';\nimport { Formik } from 'formik';\nimport * as yup from 'yup';\nimport ApplicationContext from '../../../contexts/application';\nimport Styles from './Styles';\nimport * as Utils from './Utils';\nimport Api from '../../../services/Api';\n\nimport Button from '../../../components/Button';\nimport Input from '../../../components/Input';\nimport Select from '../../../components/Select';\n\nimport UserIcon from '../../../../assets/img/user-icon.png';\n\nconst CompleteCadastro = ({ navigation }) => {\n  const { newUser, setNewUser, setLoading } = useContext(ApplicationContext);\n\n  const [tipoPessoa] = useState([\n    { label: 'Pessoa Física', value: 'PF' },\n    { label: 'Pessoa Jurídica', value: 'PJ' },\n  ]);\n  const [activitiesBranches, setActivitiesBranches] = useState([]);\n  const [economicsActivites, setEconomicsActivities] = useState([]);\n\n  const handleCadastro = async (data) => {\n    setNewUser({ ...newUser, ...data, passwordCheck: undefined });\n    return navigation.navigate('RamoAtividade');\n  };\n\n  useEffect(() => {\n    const fetchApiData = async () => {\n      setLoading(true);\n      const responseActivitiesBranches = await Api.get(\n        'v1/activities-branches'\n      );\n      if (responseActivitiesBranches.status !== 200) {\n        Alert.alert(\n          'Atenção',\n          'Houve um erro no servidor, reinicie a aplicação'\n        );\n      } else {\n        setActivitiesBranches(\n          responseActivitiesBranches.data.map((i) => {\n            return { Name: i.name, Id: String(i.id) };\n          })\n        );\n        const responseEconomicsActivities = await Api.get(\n          'v1/economics-activities'\n        );\n        if (responseEconomicsActivities.status !== 200) {\n          Alert.alert(\n            'Atenção',\n            'Houve um erro no servidor, reinicie a aplicação'\n          );\n        } else {\n          setEconomicsActivities(\n            responseEconomicsActivities.data.map((i) => {\n              return { label: i.name, value: String(i.id) };\n            })\n          );\n          setLoading(false);\n        }\n      }\n    };\n\n    fetchApiData();\n  }, []);\n\n  return (\n    <View style={Styles.wrapper}>\n      <ScrollView style={{ width: '100%' }}>\n        <KeyboardAwareScrollView\n          resetScrollToCoords={{ x: 0, y: 0 }}\n          scrollEnabled={false}\n          keyboardOpeningTime={0}\n          contentContainerStyle={{ alignItems: 'center' }}\n        >\n          <Image source={UserIcon} style={Styles.iconImg} />\n          <Text style={Styles.bemVindoText}>Bem vindo {newUser.name}!</Text>\n          <Text style={Styles.subTitle}>Complete seu Cadastro</Text>\n          <Formik\n            initialValues={{\n              tipoPessoa: 'PF',\n              ramoAtividade: '',\n              nomeEmpresa: '',\n              atividadeEconomica: '',\n              celular: '',\n              website: '',\n              facebook: '',\n            }}\n            // onSubmit={(data) => handleCadastro(data)}\n            // validationSchema={yup.object().shape({\n            //   tipoPessoa: yup.string().required(),\n            //   ramoAtividade: yup.string().when('tipoPessoa', {\n            //     is: 'PF',\n            //     then: yup.string().required(),\n            //   }),\n            //   nomeEmpresa: yup.string().when('tipoPessoa', {\n            //     is: 'PJ',\n            //     then: yup.string().required(),\n            //   }),\n            //   atividadeEconomica: yup.string().when('tipoPessoa', {\n            //     is: 'PJ',\n            //     then: yup.string().required(),\n            //   }),\n            //   celular: yup.string().min(14).max(15).required(),\n            //   website: yup.string(),\n            //   facebook: yup.string(),\n            // })}\n          >\n            {({\n              handleChange,\n              setFieldValue,\n              handleBlur,\n              handleSubmit,\n              values,\n              errors,\n              isValid,\n            }) => (\n              <View style={Styles.socialMediaContainer}>\n                <Text style={Styles.labelFormText}>Sou:</Text>\n                <Select\n                  customStyle={{ marginBottom: 13 }}\n                  value={values.tipoPessoa}\n                  placeholder={{}}\n                  onValueChange={handleChange('tipoPessoa')}\n                  error={errors.tipoPessoa}\n                  items={tipoPessoa}\n                />\n                <Select\n                  customStyle={{\n                    marginBottom: 13,\n                    display: values.tipoPessoa === 'PJ' ? 'none' : 'flex',\n                  }}\n                  value={values.ramoAtividade}\n                  placeholder={{ label: 'Profissão', value: '' }}\n                  onValueChange={handleChange('ramoAtividade')}\n                  error={errors.ramoAtividade}\n                  items={activitiesBranches}\n                  isSearchable={true}\n                />\n                <Input\n                  onChangeText={handleChange('nomeEmpresa')}\n                  onBlur={handleBlur('nomeEmpresa')}\n                  placeholder=\"Nome da Empresa:\"\n                  textContentType=\"name\"\n                  customStyle={{\n                    marginBottom: 13,\n                    display: values.tipoPessoa === 'PF' ? 'none' : 'flex',\n                    paddingLeft: 15,\n                  }}\n                  error={errors.nomeEmpresa}\n                  value={values.nomeEmpresa}\n                />\n                <Select\n                  customStyle={{\n                    marginBottom: 13,\n                    display: values.tipoPessoa === 'PF' ? 'none' : 'none',\n                  }}\n                  value={values.atividadeEconomica}\n                  placeholder={{ label: 'Atividade Econômica', value: '' }}\n                  onValueChange={handleChange('atividadeEconomica')}\n                  error={errors.atividadeEconomica}\n                  items={economicsActivites}\n                />\n\n                <Text style={Styles.labelFormText}>Contatos:</Text>\n                {/* <Input\n                  onChangeText={(e) =>\n                    setFieldValue('celular', Utils.phoneMaskInput(e))\n                  }\n                  onBlur={handleBlur('celular')}\n                  placeholder=\"WhatsApp:\"\n                  textContentType=\"telephoneNumber\"\n                  keyboardType=\"number-pad\"\n                  maxLength={15}\n                  customStyle={{ marginBottom: 13 }}\n                  error={errors.celular}\n                  value={values.celular}\n                />\n                <Input\n                  onChangeText={handleChange('website')}\n                  onBlur={handleBlur('website')}\n                  placeholder=\"Website:\"\n                  textContentType=\"name\"\n                  customStyle={{ marginBottom: 13 }}\n                  error={errors.website}\n                  value={values.website}\n                />\n                <Input\n                  onChangeText={handleChange('facebook')}\n                  onBlur={handleBlur('facebook')}\n                  placeholder=\"Perfil do Facebook:\"\n                  textContentType=\"name\"\n                  customStyle={{ marginBottom: 13 }}\n                  error={errors.facebook}\n                  value={values.facebook}\n                /> */}\n                <Button\n                  onPress={handleSubmit}\n                  disabled={!isValid}\n                  customStyles={{\n                    backgroundColor: '#FFD500',\n                    marginTop: 15,\n                  }}\n                  textColor=\"#000\"\n                  label=\"Ir para o Ramo de Atividade\"\n                />\n              </View>\n            )}\n          </Formik>\n        </KeyboardAwareScrollView>\n      </ScrollView>\n    </View>\n  );\n};\n\nexport default CompleteCadastro;\n"]},"metadata":{},"sourceType":"module"}