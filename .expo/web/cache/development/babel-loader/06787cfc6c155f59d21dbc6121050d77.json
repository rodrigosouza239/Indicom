{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/bayons/indicom-app-master/app/pages/Amigos/Perfil.jsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { useNavigation } from '@react-navigation/native';\nimport Api from \"../../services/Api\";\nimport AuthContext from \"../../contexts/auth\";\nimport Button from \"../../components/Button\";\nimport Footer from \"../../components/template/Footer\";\nimport InfoContainer from \"./components/InfoContainer\";\nimport RateStars from \"../../components/RateStars\";\nimport ComentariosContainer from \"../../components/ComentariosContainer/ComentariosContainer\";\nimport NoUser from \"../../../assets/img/user-icon.png\";\nimport Styles from \"./styles\";\nvar styles = StyleSheet.create(Styles);\n\nvar Perfil = function Perfil(_ref) {\n  var route = _ref.route;\n\n  var _useContext = useContext(AuthContext),\n      user = _useContext.user,\n      setLoading = _useContext.setLoading;\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      nota = _useState2[0],\n      setNota = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      done = _useState4[0],\n      setDone = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      AtividadesLista = _useState6[0],\n      setAtividadesLista = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      renderComentarios = _useState8[0],\n      setRenderComentarios = _useState8[1];\n\n  var _route$params = route.params,\n      currentProfile = _route$params.currentProfile,\n      newComment = _route$params.newComment;\n  var navigation = useNavigation();\n  var infoItems = [{\n    label: 'Nome',\n    value: currentProfile.name\n  }, {\n    label: 'E-mail',\n    value: currentProfile.email\n  }, {\n    label: 'Atividade',\n    value: currentProfile.ActivityBranch && currentProfile.ActivityBranch.name || currentProfile.EconomicActivity && currentProfile.EconomicActivity.name || ''\n  }, {\n    label: 'Empresa',\n    value: currentProfile.companyName\n  }, {\n    label: 'Whats',\n    value: currentProfile.whatsapp\n  }, {\n    label: 'Website',\n    value: currentProfile.website\n  }, {\n    label: 'Facebook',\n    value: currentProfile.facebook\n  }];\n  var atividadesItems = AtividadesLista.map(function (atividade) {\n    var response = {\n      label: atividade.label,\n      value: []\n    };\n    var atividadesList = currentProfile.activities.map(function (i) {\n      return i.id;\n    });\n    atividade.data.map(function (categoria) {\n      if (atividadesList.includes(categoria.id)) {\n        response.value.push(categoria.label);\n      }\n\n      return categoria;\n    });\n    return response.value.length > 0 ? _objectSpread(_objectSpread({}, response), {}, {\n      value: response.value.join(', ')\n    }) : {};\n  }).filter(function (atividade) {\n    return atividade.label;\n  });\n  useEffect(function () {\n    setRenderComentarios(newComment);\n\n    if (newComment && newComment.fromUserId === user.id) {\n      setDone(false);\n    }\n  }, [newComment]);\n  useEffect(function () {\n    var fetchApi = function fetchApi() {\n      var response, activities;\n      return _regeneratorRuntime.async(function fetchApi$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(Api.get('v1/activities'));\n\n            case 2:\n              response = _context.sent;\n\n              if (response.status !== 200) {\n                Alert.alert('Erro', 'Houve um erro no servidor, tente novamente mais tarde');\n              } else {\n                setLoading(false);\n                activities = response.data.map(function (activity) {\n                  var nest = activity.nest.map(function (subActivity) {\n                    return {\n                      id: subActivity.id,\n                      label: subActivity.name,\n                      checked: false\n                    };\n                  });\n                  return {\n                    id: activity.id,\n                    label: activity.name,\n                    open: false,\n                    data: nest\n                  };\n                });\n                setAtividadesLista(activities);\n              }\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    fetchApi();\n  }, []);\n  return React.createElement(View, {\n    style: styles.wrapper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 5\n    }\n  }, React.createElement(ScrollView, {\n    style: {\n      width: '100%',\n      marginTop: 30\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: styles.body,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }\n  }, React.createElement(Image, {\n    source: currentProfile.Image !== null ? {\n      uri: currentProfile.Image.imageUrl\n    } : NoUser,\n    style: styles.logoImage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 11\n    }\n  }), React.createElement(Text, {\n    style: styles.userName,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 11\n    }\n  }, currentProfile.name, \" \", React.createElement(Text, {\n    style: styles.rate,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 35\n    }\n  }, nota)), React.createElement(RateStars, {\n    nota: nota,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 11\n    }\n  }), React.createElement(InfoContainer, {\n    title: \"Informa\\xE7\\xF5es\",\n    items: infoItems,\n    noButton: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 11\n    }\n  }), React.createElement(InfoContainer, {\n    title: \"Ramo de Atividade\",\n    items: atividadesItems,\n    noButton: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 11\n    }\n  }), React.createElement(ComentariosContainer, {\n    renderComentarios: renderComentarios,\n    user: currentProfile,\n    setNota: setNota,\n    setDone: setDone,\n    loggedUser: user,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 11\n    }\n  }), done && React.createElement(Button, {\n    customStyles: {\n      backgroundColor: '#00C068',\n      marginTop: 10,\n      width: '80%'\n    },\n    onPress: function onPress() {\n      return navigation.navigate('AmigosComentario', {\n        currentProfile: currentProfile\n      });\n    },\n    textColor: \"#FFF\",\n    textWeigth: \"bold\",\n    label: \"ADICIONAR COMENT\\xC1RIO\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }\n  }))), React.createElement(Footer, {\n    active: \"Amigos\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default Perfil;","map":{"version":3,"sources":["/home/bayons/indicom-app-master/app/pages/Amigos/Perfil.jsx"],"names":["React","useState","useEffect","useContext","useNavigation","Api","AuthContext","Button","Footer","InfoContainer","RateStars","ComentariosContainer","NoUser","Styles","styles","StyleSheet","create","Perfil","route","user","setLoading","nota","setNota","done","setDone","AtividadesLista","setAtividadesLista","renderComentarios","setRenderComentarios","params","currentProfile","newComment","navigation","infoItems","label","value","name","email","ActivityBranch","EconomicActivity","companyName","whatsapp","website","facebook","atividadesItems","map","atividade","response","atividadesList","activities","i","id","data","categoria","includes","push","length","join","filter","fromUserId","fetchApi","get","status","Alert","alert","activity","nest","subActivity","checked","open","wrapper","width","marginTop","body","Image","uri","imageUrl","logoImage","userName","rate","backgroundColor","navigate"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { View, Text, StyleSheet, Image, ScrollView, Alert } from 'react-native';\nimport { useNavigation } from '@react-navigation/native';\nimport Api from '../../services/Api';\n\nimport AuthContext from '../../contexts/auth';\n\nimport Button from '../../components/Button';\nimport Footer from '../../components/template/Footer';\nimport InfoContainer from './components/InfoContainer';\nimport RateStars from '../../components/RateStars';\nimport ComentariosContainer from '../../components/ComentariosContainer/ComentariosContainer';\n\nimport NoUser from '../../../assets/img/user-icon.png';\nimport Styles from './styles';\n\nconst styles = StyleSheet.create(Styles);\n\nconst Perfil = ({ route }) => {\n  const { user, setLoading } = useContext(AuthContext);\n  const [nota, setNota] = useState(0);\n  const [done, setDone] = useState(false);\n  const [AtividadesLista, setAtividadesLista] = useState([]);\n  const [renderComentarios, setRenderComentarios] = useState(false);\n  const { currentProfile, newComment } = route.params;\n  const navigation = useNavigation();\n\n  const infoItems = [\n    {\n      label: 'Nome',\n      value: currentProfile.name,\n    },\n    {\n      label: 'E-mail',\n      value: currentProfile.email,\n    },\n    {\n      label: 'Atividade',\n      value:\n        (currentProfile.ActivityBranch && currentProfile.ActivityBranch.name) ||\n        (currentProfile.EconomicActivity &&\n          currentProfile.EconomicActivity.name) ||\n        '',\n    },\n    {\n      label: 'Empresa',\n      value: currentProfile.companyName,\n    },\n    {\n      label: 'Whats',\n      value: currentProfile.whatsapp,\n    },\n    {\n      label: 'Website',\n      value: currentProfile.website,\n    },\n    {\n      label: 'Facebook',\n      value: currentProfile.facebook,\n    },\n  ];\n\n  const atividadesItems = AtividadesLista.map((atividade) => {\n    const response = { label: atividade.label, value: [] };\n    const atividadesList = currentProfile.activities.map((i) => i.id);\n    atividade.data.map((categoria) => {\n      if (atividadesList.includes(categoria.id)) {\n        response.value.push(categoria.label);\n      }\n      return categoria;\n    });\n    return response.value.length > 0\n      ? { ...response, value: response.value.join(', ') }\n      : {};\n  }).filter((atividade) => atividade.label);\n\n  useEffect(() => {\n    setRenderComentarios(newComment);\n    if (newComment && newComment.fromUserId === user.id) {\n      setDone(false);\n    }\n  }, [newComment]);\n\n  useEffect(() => {\n    const fetchApi = async () => {\n      const response = await Api.get('v1/activities');\n      if (response.status !== 200) {\n        Alert.alert(\n          'Erro',\n          'Houve um erro no servidor, tente novamente mais tarde'\n        );\n      } else {\n        setLoading(false);\n        const activities = response.data.map((activity) => {\n          const nest = activity.nest.map((subActivity) => {\n            return {\n              id: subActivity.id,\n              label: subActivity.name,\n              checked: false,\n            };\n          });\n          return {\n            id: activity.id,\n            label: activity.name,\n            open: false,\n            data: nest,\n          };\n        });\n        setAtividadesLista(activities);\n      }\n    };\n    fetchApi();\n  }, []);\n\n  return (\n    <View style={styles.wrapper}>\n      <ScrollView style={{ width: '100%', marginTop: 30 }}>\n        <View style={styles.body}>\n          <Image\n            source={\n              currentProfile.Image !== null\n                ? { uri: currentProfile.Image.imageUrl }\n                : NoUser\n            }\n            style={styles.logoImage}\n          />\n          <Text style={styles.userName}>\n            {currentProfile.name} <Text style={styles.rate}>{nota}</Text>\n          </Text>\n          <RateStars nota={nota} />\n          <InfoContainer title=\"Informações\" items={infoItems} noButton />\n          <InfoContainer\n            title=\"Ramo de Atividade\"\n            items={atividadesItems}\n            noButton\n          />\n          <ComentariosContainer\n            renderComentarios={renderComentarios}\n            user={currentProfile}\n            setNota={setNota}\n            setDone={setDone}\n            loggedUser={user}\n          />\n          {done && (\n            <Button\n              customStyles={{\n                backgroundColor: '#00C068',\n                marginTop: 10,\n                width: '80%',\n              }}\n              onPress={() =>\n                navigation.navigate('AmigosComentario', { currentProfile })\n              }\n              textColor=\"#FFF\"\n              textWeigth=\"bold\"\n              label=\"ADICIONAR COMENTÁRIO\"\n            />\n          )}\n        </View>\n      </ScrollView>\n      <Footer active=\"Amigos\" />\n    </View>\n  );\n};\n\nexport default Perfil;\n"]},"metadata":{},"sourceType":"module"}