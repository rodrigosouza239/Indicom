{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/rodrigo/indicom/app/pages/Amigos/components/AceitarConvite.jsx\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport Modal from 'react-native-modal';\nimport Api from \"../../../services/Api\";\nimport Button from \"../../../components/Button\";\nimport Input from \"../../../components/Input\";\nvar styles = StyleSheet.create({\n  container: {\n    backgroundColor: '#FFFEBD',\n    alignItems: 'center',\n    paddingTop: 20,\n    paddingBottom: 20,\n    borderRadius: 8\n  },\n  closeButton: {\n    fontWeight: 'bold',\n    fontSize: 18,\n    alignSelf: 'flex-end',\n    marginRight: '10%',\n    padding: 5,\n    marginBottom: 10\n  },\n  title: {\n    fontWeight: 'bold',\n    fontSize: 18\n  },\n  inserirCodigoInput: {\n    width: '70%',\n    backgroundColor: '#FFF',\n    borderRadius: 8,\n    borderWidth: 1,\n    marginTop: 15,\n    padding: 5\n  },\n  buttonEnviarCodigo: {\n    backgroundColor: '#00C068',\n    width: '70%',\n    marginTop: 15\n  }\n});\n\nvar AceitarConvite = function AceitarConvite(_ref) {\n  var modalVisible = _ref.modalVisible,\n      handleChange = _ref.handleChange,\n      user = _ref.user,\n      setNewNetwork = _ref.setNewNetwork,\n      setLoading = _ref.setLoading;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      value = _useState2[0],\n      setValue = _useState2[1];\n\n  var changeNetworkRequest = function changeNetworkRequest() {\n    var _await$Api$post, status;\n\n    return _regeneratorRuntime.async(function changeNetworkRequest$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(user.code === value)) {\n              _context.next = 3;\n              break;\n            }\n\n            setValue('');\n            return _context.abrupt(\"return\", Alert.alert('Atenção', 'Você não pode se adicionar como amigo.'));\n\n          case 3:\n            setLoading(true);\n            _context.next = 6;\n            return _regeneratorRuntime.awrap(Api.post(\"v1/users/\" + user.id + \"/network\", {\n              code: value\n            }));\n\n          case 6:\n            _await$Api$post = _context.sent;\n            status = _await$Api$post.status;\n            setLoading(false);\n            setValue('');\n\n            if (!(status === 200)) {\n              _context.next = 14;\n              break;\n            }\n\n            Alert.alert('Sucesso', 'Usuário adicionado com sucesso a sua rede.');\n            setNewNetwork(true);\n            return _context.abrupt(\"return\", handleChange(false));\n\n          case 14:\n            if (!(status === 409)) {\n              _context.next = 16;\n              break;\n            }\n\n            return _context.abrupt(\"return\", Alert.alert('Atenção', 'Usuário já está em sua rede.'));\n\n          case 16:\n            if (!(status === 404)) {\n              _context.next = 18;\n              break;\n            }\n\n            return _context.abrupt(\"return\", Alert.alert('Atenção', 'Nenhum usuário encontrado'));\n\n          case 18:\n            return _context.abrupt(\"return\", Alert.alert('Atenção', 'Houve um problema na requisição, tente novamente mais tarde.'));\n\n          case 19:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return React.createElement(Modal, {\n    transparent: true,\n    avoidKeyboard: true,\n    isVisible: modalVisible,\n    onSwipeComplete: function onSwipeComplete() {\n      return handleChange(false);\n    },\n    swipeDirection: \"up\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }, React.createElement(TouchableWithoutFeedback, {\n    onPress: function onPress() {\n      return handleChange(false);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.closeButton,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }, \"X\")), React.createElement(Text, {\n    style: styles.title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, \"Fa\\xE7a novos Amigos!\"), React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }, \"Insira abaixo o c\\xF3digo do seu amigo:\"), React.createElement(Input, {\n    style: styles.inserirCodigoInput,\n    keyboardType: \"number-pad\",\n    value: value,\n    onChangeText: setValue,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }), React.createElement(Button, {\n    customStyles: styles.buttonEnviarCodigo,\n    textColor: \"#FFF\",\n    textWeigth: \"bold\",\n    label: \"ADICIONAR AMIGO\",\n    onPress: function onPress() {\n      return changeNetworkRequest();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default AceitarConvite;","map":{"version":3,"sources":["/Users/rodrigo/indicom/app/pages/Amigos/components/AceitarConvite.jsx"],"names":["React","useState","Modal","Api","Button","Input","styles","StyleSheet","create","container","backgroundColor","alignItems","paddingTop","paddingBottom","borderRadius","closeButton","fontWeight","fontSize","alignSelf","marginRight","padding","marginBottom","title","inserirCodigoInput","width","borderWidth","marginTop","buttonEnviarCodigo","AceitarConvite","modalVisible","handleChange","user","setNewNetwork","setLoading","value","setValue","changeNetworkRequest","code","Alert","alert","post","id","status"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  Alert,\n  TouchableWithoutFeedback,\n} from 'react-native';\nimport Modal from 'react-native-modal';\nimport Api from '../../../services/Api';\n\nimport Button from '../../../components/Button';\nimport Input from '../../../components/Input';\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: '#FFFEBD',\n    alignItems: 'center',\n    paddingTop: 20,\n    paddingBottom: 20,\n    borderRadius: 8,\n  },\n  closeButton: {\n    fontWeight: 'bold',\n    fontSize: 18,\n    alignSelf: 'flex-end',\n    marginRight: '10%',\n    padding: 5,\n    marginBottom: 10,\n  },\n  title: {\n    fontWeight: 'bold',\n    fontSize: 18,\n  },\n  inserirCodigoInput: {\n    width: '70%',\n    backgroundColor: '#FFF',\n    borderRadius: 8,\n    borderWidth: 1,\n    marginTop: 15,\n    padding: 5,\n  },\n  buttonEnviarCodigo: {\n    backgroundColor: '#00C068',\n    width: '70%',\n    marginTop: 15,\n  },\n});\n\nconst AceitarConvite = ({\n  modalVisible,\n  handleChange,\n  user,\n  setNewNetwork,\n  setLoading,\n}) => {\n  const [value, setValue] = useState('');\n\n  const changeNetworkRequest = async () => {\n    if (user.code === value) {\n      setValue('');\n      return Alert.alert('Atenção', 'Você não pode se adicionar como amigo.');\n    }\n    setLoading(true);\n    const { status } = await Api.post(`v1/users/${user.id}/network`, {\n      code: value,\n    });\n    setLoading(false);\n    setValue('');\n    if (status === 200) {\n      Alert.alert('Sucesso', 'Usuário adicionado com sucesso a sua rede.');\n      setNewNetwork(true);\n      return handleChange(false);\n    }\n\n    if (status === 409) {\n      return Alert.alert('Atenção', 'Usuário já está em sua rede.');\n    }\n\n    if (status === 404) {\n      return Alert.alert('Atenção', 'Nenhum usuário encontrado');\n    }\n\n    return Alert.alert(\n      'Atenção',\n      'Houve um problema na requisição, tente novamente mais tarde.'\n    );\n  };\n\n  return (\n    <Modal\n      transparent\n      avoidKeyboard\n      isVisible={modalVisible}\n      onSwipeComplete={() => handleChange(false)}\n      swipeDirection=\"up\"\n    >\n      <View style={styles.container}>\n        <TouchableWithoutFeedback onPress={() => handleChange(false)}>\n          <Text style={styles.closeButton}>X</Text>\n        </TouchableWithoutFeedback>\n        <Text style={styles.title}>Faça novos Amigos!</Text>\n        <Text>Insira abaixo o código do seu amigo:</Text>\n        <Input\n          style={styles.inserirCodigoInput}\n          keyboardType=\"number-pad\"\n          value={value}\n          onChangeText={setValue}\n        />\n        <Button\n          customStyles={styles.buttonEnviarCodigo}\n          textColor=\"#FFF\"\n          textWeigth=\"bold\"\n          label=\"ADICIONAR AMIGO\"\n          onPress={() => changeNetworkRequest()}\n        />\n      </View>\n    </Modal>\n  );\n};\n\nexport default AceitarConvite;\n"]},"metadata":{},"sourceType":"module"}