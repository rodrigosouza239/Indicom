{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/rodrigo/indicom/app/pages/MeuPerfil/InformacoesGerais.jsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useContext, useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport { useNavigation } from '@react-navigation/native';\nimport { KeyboardAwareScrollView } from 'react-native-keyboard-aware-scroll-view';\nimport AuthContext from \"../../contexts/auth\";\nimport * as Utils from \"./Utils\";\nimport Footer from \"../../components/template/Footer\";\nimport RateStars from \"../../components/RateStars\";\nimport InformacoesForm from \"../../components/InformacoesForm/InformacoesForm\";\nimport NoUser from \"../../../assets/img/user-icon.png\";\nimport Styles from \"./styles\";\nvar styles = StyleSheet.create(Styles);\n\nvar InformacoesGerais = function InformacoesGerais() {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      keyboard = _useState2[0],\n      setKeyboard = _useState2[1];\n\n  var _useContext = useContext(AuthContext),\n      user = _useContext.user,\n      setUser = _useContext.setUser,\n      setLoading = _useContext.setLoading;\n\n  var navigation = useNavigation();\n\n  var handleCadastro = function handleCadastro(informacoesGerais) {\n    var newUser, response;\n    return _regeneratorRuntime.async(function handleCadastro$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setLoading(true);\n            newUser = _objectSpread(_objectSpread({}, user), informacoesGerais);\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(Utils.atualizarInformacoesGerais(newUser));\n\n          case 4:\n            response = _context.sent;\n            setLoading(false);\n\n            if (response) {\n              _context.next = 8;\n              break;\n            }\n\n            return _context.abrupt(\"return\", Alert.alert('Erro', 'Houve um erro ao atualizar informações, tente novamente mais tarde!'));\n\n          case 8:\n            setUser(newUser);\n            return _context.abrupt(\"return\", navigation.navigate('MeuPerfil'));\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  useEffect(function () {\n    Keyboard.addListener('keyboardWillShow', function () {\n      return setKeyboard(true);\n    });\n    Keyboard.addListener('keyboardWillHide', function () {\n      return setKeyboard(false);\n    });\n    return function () {\n      Keyboard.removeListener('keyboardWillShow', function () {\n        return setKeyboard(true);\n      });\n      Keyboard.removeListener('keyboardWillHide', function () {\n        return setKeyboard(false);\n      });\n    };\n  }, []);\n  return React.createElement(View, {\n    style: styles.wrapper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, React.createElement(ScrollView, {\n    style: {\n      width: '100%',\n      marginTop: 30\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, React.createElement(KeyboardAwareScrollView, {\n    resetScrollToCoords: {\n      x: 0,\n      y: 0\n    },\n    scrollEnabled: false,\n    keyboardOpeningTime: 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.body,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, React.createElement(Image, {\n    source: NoUser,\n    style: styles.logoImage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    style: styles.userName,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, user.name, \" \"), React.createElement(RateStars, {\n    nota: user.rate,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    style: styles.titleText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, \"Editar Perfil\"), React.createElement(InformacoesForm, {\n    buttonLabel: \"SALVAR\",\n    buttonStyles: {\n      backgroundColor: '#00C068',\n      width: '75%'\n    },\n    textColor: \"#FFF\",\n    textWeigth: \"bold\",\n    currentUser: user,\n    handleCadastro: handleCadastro,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  })))), !keyboard && React.createElement(Footer, {\n    active: \"Meu Perfil\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 21\n    }\n  }));\n};\n\nexport default InformacoesGerais;","map":{"version":3,"sources":["/Users/rodrigo/indicom/app/pages/MeuPerfil/InformacoesGerais.jsx"],"names":["React","useContext","useState","useEffect","useNavigation","KeyboardAwareScrollView","AuthContext","Utils","Footer","RateStars","InformacoesForm","NoUser","Styles","styles","StyleSheet","create","InformacoesGerais","keyboard","setKeyboard","user","setUser","setLoading","navigation","handleCadastro","informacoesGerais","newUser","atualizarInformacoesGerais","response","Alert","alert","navigate","Keyboard","addListener","removeListener","wrapper","width","marginTop","x","y","body","logoImage","userName","name","rate","titleText","backgroundColor"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  Image,\n  ScrollView,\n  Alert,\n  Keyboard,\n} from 'react-native';\nimport { useNavigation } from '@react-navigation/native';\nimport { KeyboardAwareScrollView } from 'react-native-keyboard-aware-scroll-view';\nimport AuthContext from '../../contexts/auth';\nimport * as Utils from './Utils';\n\nimport Footer from '../../components/template/Footer';\nimport RateStars from '../../components/RateStars';\nimport InformacoesForm from '../../components/InformacoesForm/InformacoesForm';\n\nimport NoUser from '../../../assets/img/user-icon.png';\nimport Styles from './styles';\n\nconst styles = StyleSheet.create(Styles);\n\nconst InformacoesGerais = () => {\n  const [keyboard, setKeyboard] = useState(false);\n  const { user, setUser, setLoading } = useContext(AuthContext);\n  const navigation = useNavigation();\n\n  const handleCadastro = async (informacoesGerais) => {\n    setLoading(true);\n    const newUser = { ...user, ...informacoesGerais };\n    const response = await Utils.atualizarInformacoesGerais(newUser);\n    setLoading(false);\n    if (!response)\n      return Alert.alert(\n        'Erro',\n        'Houve um erro ao atualizar informações, tente novamente mais tarde!'\n      );\n    setUser(newUser);\n    return navigation.navigate('MeuPerfil');\n  };\n\n  useEffect(() => {\n    Keyboard.addListener('keyboardWillShow', () => setKeyboard(true));\n    Keyboard.addListener('keyboardWillHide', () => setKeyboard(false));\n\n    // cleanup function\n    return () => {\n      Keyboard.removeListener('keyboardWillShow', () => setKeyboard(true));\n      Keyboard.removeListener('keyboardWillHide', () => setKeyboard(false));\n    };\n  }, []);\n\n  return (\n    <View style={styles.wrapper}>\n      <ScrollView style={{ width: '100%', marginTop: 30 }}>\n        <KeyboardAwareScrollView\n          resetScrollToCoords={{ x: 0, y: 0 }}\n          scrollEnabled={false}\n          keyboardOpeningTime={0}\n        >\n          <View style={styles.body}>\n            <Image source={NoUser} style={styles.logoImage} />\n            <Text style={styles.userName}>\n              {user.name}{\" \"}\n            </Text>\n            <RateStars nota={user.rate} />\n            <Text style={styles.titleText}>Editar Perfil</Text>\n            <InformacoesForm\n              buttonLabel=\"SALVAR\"\n              buttonStyles={{ backgroundColor: '#00C068', width: '75%' }}\n              textColor=\"#FFF\"\n              textWeigth=\"bold\"\n              currentUser={user}\n              handleCadastro={handleCadastro}\n            />\n          </View>\n        </KeyboardAwareScrollView>\n      </ScrollView>\n      {!keyboard && <Footer active=\"Meu Perfil\" />}\n    </View>\n  );\n};\n\nexport default InformacoesGerais;\n"]},"metadata":{},"sourceType":"module"}